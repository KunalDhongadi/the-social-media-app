{% extends "network/layout.html" %} {% load static %} {% block body %}
<div class="all-posts mx-auto" id="homePage"></div>

<script type="text/babel">
  const { useState } = React;
  const { useEffect } = React;

  const Home = () => {
    const [isAll, setIsAll] = useState(true);

    let isLoggedIn = "{{loggedIn}}";
    if(isLoggedIn === "False"){
      isLoggedIn = false;
    }else{
      isLoggedIn = true;
    }
    console.log("fdsf", isLoggedIn);
    
    const onPostTypeChange = () => {
      setIsAll(!isAll);
    };
    return (
      <>
        <div className="container row mx-auto px-0">
          <div className="col-8 left-side border-start border-end p-0">
            <div
              className="d-flex align-items-center py-3 px-3 posttype-div sticky-top border-bottom"
              id="heading-title"
            >
              <h5
                className={`m-0 px-3 p-2 ${isAll && "selected-postType"}`}
                onClick={onPostTypeChange}
              >
                All posts
              </h5>
              {isLoggedIn && 
              <h5
                className={`m-0 px-3 p-2 ms-2 ${!isAll && "selected-postType"}`}
                onClick={onPostTypeChange}
              >
                Following
              </h5>
              }
            </div>

            <div class="px-3">
              <PostsBody postType={isAll ? "all" : "following"} page_no={1} />
            </div>
          </div>

          
          <div class="col-4 right-side border-end profile-end-block">
            <div class="position-sticky bottom-0">
              {isLoggedIn ? <ProfileBlock post_id={null}/>
              :
              <div className="pt-4">
                <h5>You're missing out</h5>
                <p>Signup or login to follow the people you like.</p>  

                <a class="auth-btn d-block">Signup</a>
                <a class="auth-btn d-block mt-2">Login</a>
              </div>
            }
            </div>
          </div>
        </div>
      </>
    );
  };

  ReactDOM.render(<Home />, document.getElementById("homePage"));
</script>
{% endblock %}
